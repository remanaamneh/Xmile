<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>XMILE | 爪专转 注</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="css/common.css"/>
  <link rel="stylesheet" href="styles/client-campaign-builder.css"/>
</head>
<body>
  <div class="page">
    <aside class="side">
      <div class="sideTitle">爪专转 注</div>
      <div class="steps">
        <div class="step active" data-step="1">1. 专 专注</div>
        <div class="step" data-step="2">2. 专 拽住</div>
        <div class="step" data-step="3">3. 注专转 拽住</div>
        <div class="step" data-step="4">4. 专转 转</div>
        <div class="step" data-step="5">5. 注专抓 砖</div>
        <div class="step" data-step="6">6. 住 砖</div>
      </div>

      <button class="btn danger" id="btnBackDashboard">
        <i class="fas fa-arrow-right"></i> 专 砖专
      </button>
    </aside>

    <main class="content">
      <h2>爪专转 注 砖转转驻</h2>
      <p class="muted">专 专注, 拽住, 转  砖.</p>

      <!-- STEP 1: Choose Event -->
      <section class="card stepPane" id="step1">
        <h3>专 专注</h3>
        <label class="lbl">专注:</label>
        <select id="eventSelect" class="form-select">
          <option value="">注 专注...</option>
        </select>
        <label class="lbl">砖 注:</label>
        <input id="campaignName" class="form-control" placeholder=": 注 砖 专注"/>
        
        <div class="nav">
          <button class="btn btn-primary" id="btn1Next">砖</button>
        </div>
      </section>

      <!-- STEP 2: Choose AI Content -->
      <section class="card stepPane hidden" id="step2">
        <h3>专 拽住 注</h3>
        <p class="muted">专 转 驻爪转  爪专 砖 注 AI</p>
        
        <div class="mb-3">
          <textarea id="aiPrompt" class="form-control" rows="3" placeholder="转专  转 专爪  砖转转驻..."></textarea>
          <button class="btn btn-info mt-2" id="btnGenerateAI">
            <i class="fas fa-magic"></i> 爪专 转 注 AI
          </button>
        </div>

        <div class="grid3" id="contentOptionsGrid"></div>
        <div class="muted mt-2" id="loadingContent" style="display:none;">
          <i class="fas fa-spinner fa-spin"></i> 爪专 转...
        </div>

        <div class="nav">
          <button class="btn btn-secondary" id="btn2Back">专</button>
          <button class="btn btn-primary" id="btn2Next">砖</button>
        </div>
      </section>

      <!-- STEP 3: Edit Content -->
      <section class="card stepPane hidden" id="step3">
        <h3>注专转 拽住</h3>
        <label class="lbl">砖 ():</label>
        <input id="subject" class="form-control" placeholder="砖 注"/>

        <label class="lbl">转 注 (转 注专):</label>
        <textarea id="messageText" class="form-control" rows="8" placeholder=" 转..."></textarea>

        <div class="nav">
          <button class="btn btn-secondary" id="btn3Back">专</button>
          <button class="btn btn-primary" id="btn3Next">砖</button>
        </div>
      </section>

      <!-- STEP 4: Choose Template -->
      <section class="card stepPane hidden" id="step4">
        <h3>专 转 注</h3>
        <p class="muted">专 转 转.  转驻注 驻住专/转爪 拽.</p>
        
        <div class="mb-3">
          <button class="btn btn-secondary" id="btnFindImages">
            <i class="fas fa-search"></i> 驻砖 转转 驻 拽住
          </button>
        </div>

        <div class="imgGrid" id="templateGrid"></div>
        <div class="muted mt-2" id="loadingTemplates" style="display:none;">
          <i class="fas fa-spinner fa-spin"></i> 注 转转...
        </div>

        <div class="previewRow">
          <div class="previewBox">
            <div class="previewTitle">转爪 拽</div>
            <img id="chosenImg" style="display:none;"/>
          </div>
        </div>

        <div class="nav">
          <button class="btn btn-secondary" id="btn4Back">专</button>
          <button class="btn btn-primary" id="btn4Next">砖</button>
        </div>
      </section>

      <!-- STEP 5: Choose Channel -->
      <section class="card stepPane hidden" id="step5">
        <h3>专 注专抓 砖</h3>
        <div class="row">
          <button class="chip" data-chan="EMAIL">
            <i class="fas fa-envelope"></i> Email
          </button>
          <button class="chip" data-chan="WHATSAPP">
            <i class="fab fa-whatsapp"></i> WhatsApp
          </button>
          <button class="chip" data-chan="SMS">
            <i class="fas fa-sms"></i> SMS
          </button>
        </div>

        <div class="nav">
          <button class="btn btn-secondary" id="btn5Back">专</button>
          <button class="btn btn-primary" id="btn5Next">砖</button>
        </div>
      </section>

      <!-- STEP 6: Summary & Preview -->
      <section class="card stepPane hidden" id="step6">
        <h3>转爪 拽 砖</h3>

        <!-- Message Preview Tabs -->
        <div class="preview-section">
          <h4><i class="fas fa-eye"></i> 转爪 拽</h4>
          
          <div class="preview-tabs">
            <button class="preview-tab active" data-preview="sms">
              <i class="fas fa-sms"></i> SMS
            </button>
            <button class="preview-tab" data-preview="email">
              <i class="fas fa-envelope"></i> Email
            </button>
            <button class="preview-tab" data-preview="whatsapp">
              <i class="fab fa-whatsapp"></i> WhatsApp
            </button>
          </div>

          <div class="preview-content">
            <div class="preview-pane active" id="previewPaneSMS">
              <div id="previewSMS" class="message-preview-card"></div>
            </div>
            <div class="preview-pane" id="previewPaneEmail">
              <div id="previewEmail" class="message-preview-card"></div>
            </div>
            <div class="preview-pane" id="previewPaneWhatsApp">
              <div id="previewWhatsApp" class="message-preview-card"></div>
            </div>
          </div>
        </div>

        <!-- Recipients Input -->
        <div class="mb-3">
          <label class="lbl">住祝 砖转转驻 (Email/Phone,   砖专):</label>
          <textarea id="recipientsList" class="form-control" rows="5" placeholder="user@example.com&#10;+972501234567"></textarea>
        </div>

        <button class="btn btn-success btn-lg w-100 mb-2" id="btnSend">
          <i class="fas fa-paper-plane"></i>  砖
        </button>
        <div class="muted text-center" id="sendStatus"></div>

        <div class="nav">
          <button class="btn btn-secondary" id="btn6Back">专</button>
        </div>
      </section>
    </main>
  </div>

  <script src="js/config.js"></script>
  <script src="js/common.js"></script>
  <script src="js/client-campaign-builder.js"></script>
</body>
</html>

